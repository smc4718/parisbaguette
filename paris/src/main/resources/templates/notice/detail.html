<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>공지사항 상세</title>
    <!-- jQuery 추가 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<h1>공지사항 상세</h1>
<p><strong>제목:</strong> <span th:text="${notice.title}"></span></p>
<p><strong>작성일:</strong> <span th:text="${notice.createdAt}"></span></p>
<p><strong>내용:</strong></p>
<p th:text="${notice.contents}"></p>

<div>
    <form id="frm_btn" method="post">
        <input type="hidden" name="noticeNo" th:value="${notice.noticeNo}">
        <input type="hidden" name="title"    th:value="${notice.title}">
        <input type="hidden" name="contents" th:value="${notice.contents}">
    </form>
</div>

<div>
    <button type="button" id="btn_edit">편집</button>
    <button type="button" id="btn_rmv">삭제</button>
    <button type="button" id="btn_list">목록</button>
</div>

<script th:inline="javascript">
    $(document).ready(function() {  // DOM이 로드된 후 실행
        var frmBtn = $('#frm_btn');

        // 편집 버튼 클릭
        $('#btn_edit').click(function() {
            frmBtn.attr('action', '/notice/edit.form');
            frmBtn.submit();
        });

        // 삭제 버튼 클릭
        $('#btn_rmv').click(function() {
            if (confirm('삭제할까요?')) {
                alert('삭제되었습니다.');
                frmBtn.attr('action', '/notice/remove.do');
                frmBtn.submit();
            }
        });

        // 목록 버튼 클릭
        $('#btn_list').click(function() {
            window.location.href = '/notice/list.do';
        });
    });
</script>

</body>
</html>
